<div class="row">
    @foreach (var product in this.Model.Products)
    {
        <div class="media col-md-4">
            <div class="align-content-around">
                <div class="media-left">
                    <svg xmlns="http://www.w3.org/2000/svg" class="d-block user-select-none" width="100%" height="200" aria-label="Placeholder: Image cap" focusable="false" role="img" preserveAspectRatio="xMidYMid slice" viewBox="0 0 318 180" style="font-size:1.125rem;text-anchor:middle">
                        <image href=@product.Image class="media-object mr-3 img-responsive" width="100%" height="200" />
                    </svg>
                </div>
                <div class="col">
                    <div class="media-body">
                        <h4 class="media-heading">@product.Name</h4>
                    </div>
                    <div class="media-body">
                        <h5 class="media-heading">Категория: @product.CategoryName</h5>
                    </div>
                    <hr />
                    <div class="media-body">
                        <h6 class="media-heading">@product.Description</h6>
                    </div>
                    <hr />
                    @if ((string)this.ViewData["Title"] != "Моите продукти")
                    {
                        <div class="media-body">
                            <h6 class="media-heading">Производител: @product.ProducerName</h6>
                            <form method="post" asp-controller="Producers" asp-route-id="@product.ProducerId" asp-action="Details">
                                <button class="btn btn-info">Виж профил</button>
                            </form>
                            <br />
                            <form method="post" asp-controller="Products" asp-route-producerId="@product.ProducerId" asp-action="ProducerProductsAll">
                                <button class="btn btn-warning">Всички продукти на @product.ProducerName</button>
                            </form>
                        </div>
                        <hr />
                        <div class="media-body">
                            <h6 class="media-heading">@product.FullAddress</h6>
                            <i class="fa fa-map-marker icon-clock"></i>
                            <a rel="noreferrer noopener" href="@product.UrlLocation" target="_blank">Виж на картата</a>
                        </div>
                    }
                    <br />
                    <div class="media-body">
                        <h4 class="media-heading text-danger">Цена: @product.Price лв.</h4>
                    </div>
                    <hr />
                </div>
                @if ((string)this.ViewData["Title"] == "Моите продукти")
                {
                    <div class="btn-group">
                        <a asp-controller="Products" asp-route-id="@product.Id" asp-action="Edit" class="btn btn-warning" role="button" aria-pressed="true">Редактирай</a>
                        <form method="post" asp-controller="Products" asp-route-id="@product.Id" asp-action="Delete" id="deleteForm">
                        </form>
                        <button class="btn btn-danger" data-toggle="modal" data-target="#deleteModal">Изтрий</button>
                    </div>
                }
            </div>
        </div>
    }
</div>

<div class="modal" tabindex="-1" role="dialog" id="deleteModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Изтрий продукт</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Сигурен(а) ли си, че желаеш да изтриеш продукта?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" onclick="document.getElementById('deleteForm').submit()">Да</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Не</button>
            </div>
        </div>
    </div>
</div>